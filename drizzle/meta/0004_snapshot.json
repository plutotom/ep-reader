{
  "id": "0f706c11-6740-471f-a7ea-1261857c4957",
  "prevId": "29153f65-b0c2-4a42-9181-9c9e19ee60c9",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.ep_reader_book_section": {
      "name": "ep_reader_book_section",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "bookId": {
          "name": "bookId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "chapterNumber": {
          "name": "chapterNumber",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sectionNumber": {
          "name": "sectionNumber",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "wordCount": {
          "name": "wordCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "estimatedReadTime": {
          "name": "estimatedReadTime",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "orderIndex": {
          "name": "orderIndex",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "headerLevel": {
          "name": "headerLevel",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "book_section_book_id_idx": {
          "name": "book_section_book_id_idx",
          "columns": [
            {
              "expression": "bookId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "book_section_order_idx": {
          "name": "book_section_order_idx",
          "columns": [
            {
              "expression": "orderIndex",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "book_section_chapter_idx": {
          "name": "book_section_chapter_idx",
          "columns": [
            {
              "expression": "chapterNumber",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sectionNumber",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ep_reader_book_section_bookId_ep_reader_book_id_fk": {
          "name": "ep_reader_book_section_bookId_ep_reader_book_id_fk",
          "tableFrom": "ep_reader_book_section",
          "tableTo": "ep_reader_book",
          "columnsFrom": [
            "bookId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ep_reader_book": {
      "name": "ep_reader_book",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "author": {
          "name": "author",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "filePath": {
          "name": "filePath",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "coverImage": {
          "name": "coverImage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "totalChapters": {
          "name": "totalChapters",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "totalSections": {
          "name": "totalSections",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'processing'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "book_user_id_idx": {
          "name": "book_user_id_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "book_status_idx": {
          "name": "book_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "book_created_at_idx": {
          "name": "book_created_at_idx",
          "columns": [
            {
              "expression": "createdAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ep_reader_reading_progress": {
      "name": "ep_reader_reading_progress",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bookId": {
          "name": "bookId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sectionId": {
          "name": "sectionId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "releaseId": {
          "name": "releaseId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "progress_percentage": {
          "name": "progress_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.00'"
        },
        "lastParagraphIndex": {
          "name": "lastParagraphIndex",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "isRead": {
          "name": "isRead",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "readAt": {
          "name": "readAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "reading_progress_user_id_idx": {
          "name": "reading_progress_user_id_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "reading_progress_book_id_idx": {
          "name": "reading_progress_book_id_idx",
          "columns": [
            {
              "expression": "bookId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "reading_progress_section_id_idx": {
          "name": "reading_progress_section_id_idx",
          "columns": [
            {
              "expression": "sectionId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "reading_progress_release_id_idx": {
          "name": "reading_progress_release_id_idx",
          "columns": [
            {
              "expression": "releaseId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ep_reader_reading_progress_bookId_ep_reader_book_id_fk": {
          "name": "ep_reader_reading_progress_bookId_ep_reader_book_id_fk",
          "tableFrom": "ep_reader_reading_progress",
          "tableTo": "ep_reader_book",
          "columnsFrom": [
            "bookId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ep_reader_reading_progress_sectionId_ep_reader_book_section_id_fk": {
          "name": "ep_reader_reading_progress_sectionId_ep_reader_book_section_id_fk",
          "tableFrom": "ep_reader_reading_progress",
          "tableTo": "ep_reader_book_section",
          "columnsFrom": [
            "sectionId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ep_reader_reading_progress_releaseId_ep_reader_release_id_fk": {
          "name": "ep_reader_reading_progress_releaseId_ep_reader_release_id_fk",
          "tableFrom": "ep_reader_reading_progress",
          "tableTo": "ep_reader_release",
          "columnsFrom": [
            "releaseId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ep_reader_release_schedule": {
      "name": "ep_reader_release_schedule",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "bookId": {
          "name": "bookId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "scheduleType": {
          "name": "scheduleType",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "daysOfWeek": {
          "name": "daysOfWeek",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "releaseTime": {
          "name": "releaseTime",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "sectionsPerRelease": {
          "name": "sectionsPerRelease",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "release_schedule_book_id_idx": {
          "name": "release_schedule_book_id_idx",
          "columns": [
            {
              "expression": "bookId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "release_schedule_active_idx": {
          "name": "release_schedule_active_idx",
          "columns": [
            {
              "expression": "isActive",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ep_reader_release_schedule_bookId_ep_reader_book_id_fk": {
          "name": "ep_reader_release_schedule_bookId_ep_reader_book_id_fk",
          "tableFrom": "ep_reader_release_schedule",
          "tableTo": "ep_reader_book",
          "columnsFrom": [
            "bookId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ep_reader_release": {
      "name": "ep_reader_release",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "bookId": {
          "name": "bookId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sectionIds": {
          "name": "sectionIds",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scheduledFor": {
          "name": "scheduledFor",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "releasedAt": {
          "name": "releasedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "release_book_id_idx": {
          "name": "release_book_id_idx",
          "columns": [
            {
              "expression": "bookId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "release_scheduled_for_idx": {
          "name": "release_scheduled_for_idx",
          "columns": [
            {
              "expression": "scheduledFor",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "release_status_idx": {
          "name": "release_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ep_reader_release_bookId_ep_reader_book_id_fk": {
          "name": "ep_reader_release_bookId_ep_reader_book_id_fk",
          "tableFrom": "ep_reader_release",
          "tableTo": "ep_reader_book",
          "columnsFrom": [
            "bookId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ep_reader_user_setting": {
      "name": "ep_reader_user_setting",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "readingFontSize": {
          "name": "readingFontSize",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "readingTheme": {
          "name": "readingTheme",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'light'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "user_settings_user_id_idx": {
          "name": "user_settings_user_id_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ep_reader_user_setting_userId_unique": {
          "name": "ep_reader_user_setting_userId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "userId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}